<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vintage AutoDiagnose | Classic Car Troubleshooting System</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Pro:wght@400;600;700&family=Playfair+Display:wght@400;700;800&family=Source+Serif+Pro:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --cream: #f8f5f0;
            --ivory: #fffef9;
            --sage: #8a9a5b;
            --forest: #556b2f;
            --olive: #6b8e23;
            --antique-gold: #b8860b;
            --walnut: #773f1a;
            --slate: #708090;
            --parchment: #f5e8d0;
            --vintage-border: #d4b483;
            --sepia: #704214;
        }

        body {
            font-family: 'Source Serif Pro', serif;
            background: linear-gradient(135deg, var(--cream) 0%, #f0efe6 100%);
            color: var(--sepia);
            min-height: 100vh;
            padding: 20px;
            position: relative;
            overflow-x: hidden;
            line-height: 1.6;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(circle at 15% 50%, rgba(138, 154, 91, 0.05) 0%, transparent 25%),
                radial-gradient(circle at 85% 30%, rgba(139, 115, 85, 0.03) 0%, transparent 20%);
            z-index: -1;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            position: relative;
        }

        /* Vintage Header */
        .vintage-header {
            text-align: center;
            padding: 40px 20px 30px;
            margin-bottom: 40px;
            position: relative;
            border-bottom: 3px double var(--sage);
        }

        .header-border {
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 80%;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--sage), transparent);
        }

        .vintage-logo {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 25px;
            margin-bottom: 25px;
        }

        .logo-ornament {
            width: 80px;
            height: 80px;
            background: var(--ivory);
            border: 3px solid var(--sage);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            box-shadow: 0 5px 15px rgba(85, 107, 47, 0.1);
        }

        .logo-ornament::before {
            content: '';
            position: absolute;
            width: 70px;
            height: 70px;
            border: 2px dashed var(--antique-gold);
            border-radius: 50%;
        }

        .logo-ornament i {
            font-size: 32px;
            color: var(--forest);
            z-index: 1;
        }

        .logo-text {
            text-align: left;
        }

        .logo-text h1 {
            font-family: 'Playfair Display', serif;
            font-size: 3.2rem;
            font-weight: 800;
            color: var(--forest);
            margin-bottom: 5px;
            letter-spacing: 1px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.05);
        }

        .logo-text .subtitle {
            font-family: 'Crimson Pro', serif;
            font-size: 1.3rem;
            color: var(--walnut);
            font-style: italic;
            letter-spacing: 2px;
            position: relative;
            display: inline-block;
            padding-bottom: 10px;
        }

        .logo-text .subtitle::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 1px;
            background: linear-gradient(90deg, var(--antique-gold), transparent);
        }

        .vintage-tagline {
            font-family: 'Crimson Pro', serif;
            font-size: 1.2rem;
            color: var(--slate);
            max-width: 700px;
            margin: 0 auto 30px;
            line-height: 1.8;
            font-style: italic;
            padding: 20px;
            background: var(--ivory);
            border: 1px solid var(--vintage-border);
            border-radius: 4px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
        }

        .vintage-stats {
            display: flex;
            justify-content: center;
            gap: 40px;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        .vintage-stat {
            text-align: center;
            position: relative;
            padding: 15px 25px;
            background: var(--ivory);
            border: 1px solid var(--vintage-border);
            border-radius: 8px;
            min-width: 140px;
        }

        .vintage-stat::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            border: 1px solid var(--antique-gold);
            border-radius: 10px;
            opacity: 0.3;
        }

        .stat-value {
            font-family: 'Playfair Display', serif;
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--forest);
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 0.85rem;
            color: var(--walnut);
            text-transform: uppercase;
            letter-spacing: 1.5px;
        }

        /* Main Layout */
        .vintage-layout {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }

        @media (max-width: 1100px) {
            .vintage-layout {
                grid-template-columns: 1fr;
            }
        }

        /* Vintage Cards */
        .vintage-card {
            background: var(--ivory);
            border: 2px solid var(--vintage-border);
            border-radius: 12px;
            padding: 30px;
            position: relative;
            box-shadow: 0 8px 20px rgba(85, 107, 47, 0.08);
            transition: all 0.3s ease;
            height: 100%;
        }

        .vintage-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 30px rgba(85, 107, 47, 0.12);
        }

        .vintage-card::before {
            content: '';
            position: absolute;
            top: -1px;
            left: -1px;
            right: -1px;
            bottom: -1px;
            border: 1px solid var(--antique-gold);
            border-radius: 14px;
            opacity: 0.5;
        }

        .card-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--vintage-border);
        }

        .card-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.6rem;
            font-weight: 700;
            color: var(--forest);
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .card-title i {
            color: var(--sage);
            font-size: 1.4rem;
        }

        .vintage-badge {
            background: linear-gradient(135deg, var(--sage), var(--forest));
            color: var(--ivory);
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            letter-spacing: 0.5px;
            border: 1px solid var(--antique-gold);
        }

        /* Knowledge Base - Vintage Style */
        .vintage-rules {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .vintage-rule-card {
            background: var(--parchment);
            border: 1px solid var(--vintage-border);
            border-radius: 8px;
            padding: 20px;
            position: relative;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .vintage-rule-card:hover {
            background: #f0e9d7;
            transform: translateX(5px);
            border-color: var(--sage);
        }

        .vintage-rule-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background: linear-gradient(to bottom, var(--sage), var(--forest));
            border-radius: 4px 0 0 4px;
        }

        .rule-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .rule-id {
            background: var(--forest);
            color: var(--ivory);
            padding: 4px 14px;
            border-radius: 20px;
            font-family: 'Playfair Display', serif;
            font-weight: 700;
            font-size: 0.9rem;
            border: 1px solid var(--antique-gold);
        }

        .rule-priority {
            color: var(--walnut);
            font-size: 0.85rem;
            font-style: italic;
        }

        .rule-body {
            font-family: 'Courier New', monospace;
            background: var(--ivory);
            padding: 12px;
            border-radius: 6px;
            margin: 12px 0;
            border: 1px solid #e0d6c2;
            color: var(--sepia);
        }

        .rule-conditions {
            color: var(--walnut);
            font-weight: 600;
        }

        .rule-conclusion {
            color: var(--forest);
            font-weight: 700;
            margin-top: 8px;
            display: block;
        }

        .rule-desc {
            color: var(--slate);
            font-size: 0.9rem;
            margin-top: 12px;
            line-height: 1.5;
            font-style: italic;
        }

        /* Vintage Symptoms Selector */
        .vintage-symptoms {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            margin: 25px 0;
        }

        .vintage-symptom {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 16px;
            background: var(--parchment);
            border: 1px solid var(--vintage-border);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .vintage-symptom:hover {
            border-color: var(--sage);
            background: var(--ivory);
            transform: translateY(-2px);
        }

        .vintage-symptom input {
            width: 20px;
            height: 20px;
            accent-color: var(--sage);
            cursor: pointer;
        }

        .symptom-label {
            flex: 1;
            font-weight: 500;
            color: var(--sepia);
            cursor: pointer;
        }

        .symptom-icon {
            color: var(--sage);
            font-size: 1.2rem;
        }

        .selected-symptoms-area {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 20px 0;
            min-height: 70px;
            padding: 20px;
            background: var(--parchment);
            border: 2px dashed var(--vintage-border);
            border-radius: 8px;
        }

        .vintage-badge-selected {
            background: linear-gradient(135deg, var(--forest), var(--olive));
            color: var(--ivory);
            padding: 8px 18px;
            border-radius: 20px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
            animation: vintageSlide 0.4s ease;
            border: 1px solid var(--antique-gold);
        }

        @keyframes vintageSlide {
            from { opacity: 0; transform: translateY(10px) rotate(-2deg); }
            to { opacity: 1; transform: translateY(0) rotate(0); }
        }

        /* Vintage Controls */
        .vintage-controls {
            display: flex;
            gap: 15px;
            margin: 30px 0;
            flex-wrap: wrap;
        }

        .vintage-btn {
            padding: 16px 30px;
            border: 2px solid;
            border-radius: 8px;
            font-family: 'Playfair Display', serif;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            min-width: 190px;
            position: relative;
            overflow: hidden;
        }

        .vintage-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: 0.5s;
        }

        .vintage-btn:hover::before {
            left: 100%;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--forest), var(--sage));
            color: var(--ivory);
            border-color: var(--antique-gold);
        }

        .btn-primary:hover {
            background: linear-gradient(135deg, var(--sage), var(--forest));
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(85, 107, 47, 0.2);
        }

        .btn-secondary {
            background: var(--ivory);
            color: var(--forest);
            border-color: var(--vintage-border);
        }

        .btn-secondary:hover {
            background: var(--parchment);
            border-color: var(--sage);
            transform: translateY(-3px);
        }

        .btn-success {
            background: linear-gradient(135deg, var(--olive), #7a9c3a);
            color: var(--ivory);
            border-color: var(--antique-gold);
        }

        .btn-success:hover {
            background: linear-gradient(135deg, #7a9c3a, var(--olive));
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(122, 156, 58, 0.2);
        }

        /* Vintage Inference Log */
        .vintage-log {
            max-height: 500px;
            overflow-y: auto;
            padding: 20px;
            background: var(--parchment);
            border: 2px solid var(--vintage-border);
            border-radius: 8px;
            margin-top: 20px;
        }

        .vintage-log::-webkit-scrollbar {
            width: 8px;
        }

        .vintage-log::-webkit-scrollbar-track {
            background: var(--cream);
            border-radius: 4px;
        }

        .vintage-log::-webkit-scrollbar-thumb {
            background: var(--sage);
            border-radius: 4px;
        }

        .vintage-entry {
            padding: 20px;
            margin-bottom: 15px;
            background: var(--ivory);
            border-radius: 8px;
            border-left: 5px solid var(--sage);
            animation: vintageFade 0.5s ease;
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.05);
            position: relative;
            overflow: hidden;
        }

        .vintage-entry::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(138, 154, 91, 0.03), transparent);
            pointer-events: none;
        }

        @keyframes vintageFade {
            from { opacity: 0; transform: translateX(-10px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .log-step {
            font-family: 'Playfair Display', serif;
            font-weight: 700;
            color: var(--forest);
            font-size: 1.1rem;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .log-rule {
            background: linear-gradient(135deg, var(--parchment), #e8dfc8);
            color: var(--forest);
            padding: 4px 12px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-weight: 700;
            border: 1px solid var(--vintage-border);
        }

        .log-fact {
            background: linear-gradient(135deg, #e8f4e8, #d4e6d4);
            color: var(--forest);
            padding: 4px 12px;
            border-radius: 4px;
            font-weight: 700;
            border: 1px solid #b8d0b8;
        }

        .log-desc {
            color: var(--slate);
            margin-top: 10px;
            font-size: 0.95rem;
            line-height: 1.5;
            font-style: italic;
        }

        /* Vintage Results */
        .vintage-results {
            margin-top: 40px;
        }

        .vintage-diagnosis {
            background: linear-gradient(135deg, var(--ivory), #f5f0e6);
            border-radius: 12px;
            padding: 40px;
            text-align: center;
            border: 3px double var(--antique-gold);
            position: relative;
            overflow: hidden;
        }

        .vintage-diagnosis::before {
            content: '';
            position: absolute;
            top: -10px;
            left: -10px;
            right: -10px;
            bottom: -10px;
            border: 1px solid var(--sage);
            border-radius: 20px;
            opacity: 0.2;
            pointer-events: none;
        }

        .diagnosis-title {
            font-family: 'Playfair Display', serif;
            font-size: 2rem;
            color: var(--forest);
            margin-bottom: 25px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
        }

        .diagnosis-title i {
            color: var(--antique-gold);
            font-size: 2.5rem;
        }

        .diagnosis-result {
            font-family: 'Playfair Display', serif;
            font-size: 3rem;
            font-weight: 800;
            color: var(--walnut);
            margin: 25px 0;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
            position: relative;
            display: inline-block;
            padding: 0 20px;
        }

        .diagnosis-result::before,
        .diagnosis-result::after {
            content: '✦';
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            color: var(--antique-gold);
            font-size: 1.5rem;
        }

        .diagnosis-result::before {
            left: -10px;
        }

        .diagnosis-result::after {
            right: -10px;
        }

        .vintage-solution {
            background: var(--parchment);
            border-radius: 10px;
            padding: 25px;
            margin: 20px 0;
            border-left: 5px solid var(--sage);
            border-right: 1px solid var(--vintage-border);
            border-top: 1px solid var(--vintage-border);
            border-bottom: 1px solid var(--vintage-border);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }

        .solution-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.4rem;
            color: var(--forest);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 12px;
            padding-bottom: 10px;
            border-bottom: 1px dashed var(--vintage-border);
        }

        .solution-title i {
            color: var(--sage);
        }

        .solution-steps {
            list-style: none;
            padding-left: 0;
        }

        .solution-steps li {
            padding: 14px 0;
            border-bottom: 1px dashed #e0d6c2;
            display: flex;
            align-items: center;
            gap: 20px;
            position: relative;
        }

        .solution-steps li:last-child {
            border-bottom: none;
        }

        .step-number {
            background: var(--forest);
            color: var(--ivory);
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-family: 'Playfair Display', serif;
            border: 2px solid var(--antique-gold);
            flex-shrink: 0;
        }

        .solution-cost {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
            padding-top: 15px;
            border-top: 1px solid var(--vintage-border);
            color: var(--walnut);
            font-style: italic;
        }

        /* Vintage Footer */
        .vintage-footer {
            text-align: center;
            padding: 40px 20px;
            color: var(--slate);
            margin-top: 60px;
            border-top: 3px double var(--sage);
            position: relative;
        }

        .footer-border {
            position: absolute;
            top: -1px;
            left: 50%;
            transform: translateX(-50%);
            width: 60%;
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--antique-gold), transparent);
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin: 25px 0;
            flex-wrap: wrap;
        }

        .footer-links a {
            color: var(--sage);
            text-decoration: none;
            transition: all 0.3s ease;
            font-family: 'Crimson Pro', serif;
            font-size: 1.1rem;
            position: relative;
            padding: 5px 0;
        }

        .footer-links a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 1px;
            background: var(--antique-gold);
            transition: width 0.3s ease;
        }

        .footer-links a:hover {
            color: var(--forest);
        }

        .footer-links a:hover::after {
            width: 100%;
        }

        .copyright {
            font-size: 0.9rem;
            margin-top: 25px;
            color: var(--walnut);
            font-style: italic;
        }

        .copyright p:first-child {
            font-family: 'Playfair Display', serif;
            font-size: 1rem;
            margin-bottom: 10px;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .vintage-header {
                padding: 20px 10px;
            }
            
            .logo-text h1 {
                font-size: 2.2rem;
            }
            
            .vintage-btn {
                min-width: 100%;
            }
            
            .vintage-stats {
                gap: 15px;
            }
            
            .vintage-stat {
                min-width: 120px;
                padding: 12px 20px;
            }
            
            .stat-value {
                font-size: 2rem;
            }
            
            .diagnosis-result {
                font-size: 2.2rem;
            }
        }

        /* Vintage Decorative Elements */
        .corner-ornament {
            position: absolute;
            width: 40px;
            height: 40px;
            pointer-events: none;
        }

        .corner-tl {
            top: 20px;
            left: 20px;
            border-top: 2px solid var(--sage);
            border-left: 2px solid var(--sage);
        }

        .corner-tr {
            top: 20px;
            right: 20px;
            border-top: 2px solid var(--sage);
            border-right: 2px solid var(--sage);
        }

        .corner-bl {
            bottom: 20px;
            left: 20px;
            border-bottom: 2px solid var(--sage);
            border-left: 2px solid var(--sage);
        }

        .corner-br {
            bottom: 20px;
            right: 20px;
            border-bottom: 2px solid var(--sage);
            border-right: 2px solid var(--sage);
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Decorative Corners -->
        <div class="corner-ornament corner-tl"></div>
        <div class="corner-ornament corner-tr"></div>
        <div class="corner-ornament corner-bl"></div>
        <div class="corner-ornament corner-br"></div>

        <!-- Vintage Header -->
        <header class="vintage-header">
            <div class="header-border"></div>
            
            <div class="vintage-logo">
                <div class="logo-ornament">
                    <i class="fas fa-car-side"></i>
                </div>
                <div class="logo-text">
                    <h1>Vintage AutoDiagnose</h1>
                    <div class="subtitle">Classic Car Troubleshooting System</div>
                </div>
            </div>
            
            <p class="vintage-tagline">
                A timeless expert system using forward chaining inference to diagnose vehicle ailments with precision and elegance. 
                Select symptoms below to commence diagnosis.
            </p>
            
            <div class="vintage-stats">
                <div class="vintage-stat">
                    <div class="stat-value">15</div>
                    <div class="stat-label">Expert Rules</div>
                </div>
                <div class="vintage-stat">
                    <div class="stat-value">18</div>
                    <div class="stat-label">Symptoms</div>
                </div>
                <div class="vintage-stat">
                    <div class="stat-value">95%</div>
                    <div class="stat-label">Accuracy</div>
                </div>
                <div class="vintage-stat">
                    <div class="stat-value">&lt;2s</div>
                    <div class="stat-label">Diagnosis</div>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <div class="vintage-layout">
            <!-- Left Column: Knowledge Base -->
            <div class="vintage-card">
                <div class="card-header">
                    <h2 class="card-title"><i class="fas fa-book-open"></i> Knowledge Compendium</h2>
                    <span class="vintage-badge">15 Expert Rules</span>
                </div>
                <div class="vintage-rules" id="rulesList">
                    <!-- Rules populated by JavaScript -->
                </div>
            </div>

            <!-- Right Column: Symptoms & Diagnosis -->
            <div class="vintage-card">
                <div class="card-header">
                    <h2 class="card-title"><i class="fas fa-search"></i> Symptom Assessment</h2>
                    <span class="vintage-badge">Interactive</span>
                </div>
                
                <p style="margin-bottom: 20px; color: var(--walnut); font-style: italic;">
                    Select all symptoms that correspond to your vehicle's condition:
                </p>
                
                <div class="vintage-symptoms" id="factsInput">
                    <!-- Checkboxes populated by JavaScript -->
                </div>
                
                <h3 style="margin-top: 30px; color: var(--forest); font-family: 'Playfair Display', serif;">Selected Symptoms</h3>
                <div class="selected-symptoms-area" id="selectedFacts">
                    <!-- Selected symptoms will appear here -->
                </div>
                
                <div class="vintage-controls">
                    <button class="vintage-btn btn-primary" onclick="runInference()">
                        <i class="fas fa-play-circle"></i> Commence Diagnosis
                    </button>
                    <button class="vintage-btn btn-secondary" onclick="resetFacts()">
                        <i class="fas fa-redo"></i> Clear Selection
                    </button>
                    <button class="vintage-btn btn-success" onclick="showExample()">
                        <i class="fas fa-vial"></i> Example Case
                    </button>
                </div>
            </div>
        </div>

        <!-- Inference Process -->
        <div class="vintage-card" style="margin-top: 30px;">
            <div class="card-header">
                <h2 class="card-title"><i class="fas fa-project-diagram"></i> Inference Process</h2>
                <span class="vintage-badge">Forward Chaining</span>
            </div>
            <div class="vintage-log" id="inferenceLog">
                <div class="vintage-entry" style="border-color: var(--slate);">
                    <div class="log-step"><i class="fas fa-info-circle"></i> System Primed</div>
                    <p>Select symptoms and click "Commence Diagnosis" to initiate the inference process.</p>
                </div>
            </div>
        </div>

        <!-- Results Section -->
        <div class="vintage-results" id="resultsContainer">
            <!-- Results will be populated here -->
        </div>

        <!-- Vintage Footer -->
        <footer class="vintage-footer">
            <div class="footer-border"></div>
            <div class="footer-links">
                <a href="#"><i class="fas fa-scroll"></i> Documentation</a>
                <a href="#"><i class="fas fa-archive"></i> Rule Library</a>
                <a href="#"><i class="fas fa-chart-line"></i> Accuracy Report</a>
                <a href="#"><i class="fas fa-question-circle"></i> Assistance</a>
                <a href="#"><i class="fas fa-envelope"></i> Correspondence</a>
            </div>
            <div class="copyright">
                <p>© 2024 Vintage AutoDiagnose | Classical Expert System | SyntexHub Internship Project</p>
                <p style="margin-top: 10px; font-size: 0.85rem;">
                    This system employs forward chaining inference with 15 diagnostic rules for vehicular maladies.
                </p>
            </div>
        </footer>
    </div>

    <script>
        // ========== VINTAGE KNOWLEDGE BASE ==========
        const rules = [
            {
                id: "R1",
                conditions: ["engine_no_start", "no_cranking"],
                conclusion: "dead_battery",
                description: "Complete absence of cranking indicates battery exhaustion",
                priority: "High"
            },
            {
                id: "R2",
                conditions: ["engine_no_start", "slow_cranking"],
                conclusion: "weak_battery",
                description: "Labored cranking suggests insufficient electrical charge",
                priority: "Medium"
            },
            {
                id: "R3",
                conditions: ["engine_no_start", "normal_cranking"],
                conclusion: "fuel_issue",
                description: "Proper cranking without ignition implies fuel delivery impediment",
                priority: "High"
            },
            {
                id: "R4",
                conditions: ["fuel_issue", "no_fuel_pump_sound"],
                conclusion: "fuel_pump_failed",
                description: "Silent fuel pump indicates mechanical failure",
                priority: "Critical"
            },
            {
                id: "R5",
                conditions: ["engine_stalls", "rough_idle"],
                conclusion: "dirty_injectors",
                description: "Stalling accompanied by uneven idle suggests injector obstruction",
                priority: "Medium"
            },
            {
                id: "R6",
                conditions: ["engine_stalls", "check_engine_light"],
                conclusion: "sensor_problem",
                description: "Stalling with illuminated warning light indicates sensor malfunction",
                priority: "High"
            },
            {
                id: "R7",
                conditions: ["overheating", "coolant_low"],
                conclusion: "coolant_leak",
                description: "Elevated temperature with depleted coolant suggests leakage",
                priority: "Critical"
            },
            {
                id: "R8",
                conditions: ["overheating", "fan_not_working"],
                conclusion: "radiator_fan_fault",
                description: "Overheating without fan operation indicates cooling system failure",
                priority: "High"
            },
            {
                id: "R9",
                conditions: ["brake_noise", "grinding_sound"],
                conclusion: "worn_brakes",
                description: "Grinding auditory signal indicates brake pad depletion",
                priority: "Critical"
            },
            {
                id: "R10",
                conditions: ["brake_noise", "squealing_sound"],
                conclusion: "brake_wear_indicator",
                description: "High-pitched squeal suggests wear indicator activation",
                priority: "Medium"
            },
            {
                id: "R11",
                conditions: ["poor_acceleration", "black_smoke"],
                conclusion: "rich_fuel_mixture",
                description: "Diminished acceleration with dark exhaust indicates fuel excess",
                priority: "High"
            },
            {
                id: "R12",
                conditions: ["poor_acceleration", "white_smoke"],
                conclusion: "coolant_leak_engine",
                description: "White exhaust vapor suggests coolant infiltration",
                priority: "Critical"
            },
            {
                id: "R13",
                conditions: ["check_engine_light", "poor_acceleration"],
                conclusion: "oxygen_sensor_fault",
                description: "Warning light with acceleration issues indicates sensor failure",
                priority: "Medium"
            },
            {
                id: "R14",
                conditions: ["rough_idle", "check_engine_light"],
                conclusion: "spark_plug_issue",
                description: "Uneven idle with warning suggests ignition system fault",
                priority: "Medium"
            },
            {
                id: "R15",
                conditions: ["engine_no_start", "fuel_smell"],
                conclusion: "flooded_engine",
                description: "Non-start with fuel odor indicates excessive fuel saturation",
                priority: "Low"
            }
        ];

        // Vintage symptoms with classical descriptions
        const allFacts = [
            {id: "engine_no_start", label: "Engine fails to commence", icon: "fas fa-engine-warning"},
            {id: "engine_stalls", label: "Engine ceases during operation", icon: "fas fa-car-burst"},
            {id: "overheating", label: "Engine temperature elevated", icon: "fas fa-temperature-high"},
            {id: "poor_acceleration", label: "Diminished acceleration", icon: "fas fa-tachometer-alt-slow"},
            {id: "brake_noise", label: "Auditory brake signals", icon: "fas fa-volume-up"},
            {id: "no_cranking", label: "Absence of cranking sound", icon: "fas fa-volume-mute"},
            {id: "slow_cranking", label: "Labored cranking sound", icon: "fas fa-tachometer-alt"},
            {id: "normal_cranking", label: "Normal cranking, no ignition", icon: "fas fa-play-circle"},
            {id: "no_fuel_pump_sound", label: "Silent fuel pump", icon: "fas fa-gas-pump-slash"},
            {id: "rough_idle", label: "Uneven idle vibration", icon: "fas fa-vihara"},
            {id: "check_engine_light", label: "Engine warning illuminated", icon: "fas fa-exclamation-triangle"},
            {id: "coolant_low", label: "Coolant reservoir depleted", icon: "fas fa-tint-slash"},
            {id: "fan_not_working", label: "Radiator fan inoperative", icon: "fas fa-fan"},
            {id: "grinding_sound", label: "Grinding auditory signal", icon: "fas fa-cogs"},
            {id: "squealing_sound", label: "High-pitched squeal", icon: "fas fa-music"},
            {id: "black_smoke", label: "Dark exhaust emission", icon: "fas fa-smog"},
            {id: "white_smoke", label: "Pale exhaust vapor", icon: "fas fa-smoke"},
            {id: "fuel_smell", label: "Pronounced fuel odor", icon: "fas fa-wind"}
        ];

        // Classical solutions with vintage phrasing
        const solutions = {
            "dead_battery": {
                title: "Battery Restoration Protocol",
                severity: "Critical",
                steps: [
                    "Measure battery potential with multimeter (require 12.6V minimum)",
                    "Employ jump commencement if potential below 11.8V",
                    "Purify battery terminals and connections",
                    "Replace battery if charge retention inadequate",
                    "Verify alternator output (require 13.5-14.5V)"
                ],
                estimatedCost: "$150-$300",
                time: "30-60 minutes"
            },
            "weak_battery": {
                title: "Battery Revitalization Procedure",
                severity: "Medium",
                steps: [
                    "Apply proper charger for 8-12 hour duration",
                    "Conduct load assessment to determine capacity",
                    "Investigate parasitic electrical drains",
                    "Remove terminal corrosion",
                    "Consider replacement if battery age exceeds 3 years"
                ],
                estimatedCost: "$0-$200",
                time: "2-12 hours"
            },
            "fuel_pump_failed": {
                title: "Fuel Pump Replacement Protocol",
                severity: "Critical",
                steps: [
                    "Inspect fuel pump fuse and relay",
                    "Measure fuel pressure at distribution rail",
                    "Listen for pump priming upon ignition",
                    "Replace fuel pump assembly if pressure absent",
                    "Install fresh fuel filter during replacement"
                ],
                estimatedCost: "$400-$800",
                time: "2-4 hours"
            },
            "dirty_injectors": {
                title: "Fuel Injector Purification",
                severity: "Medium",
                steps: [
                    "Introduce injector cleanser to fuel reservoir",
                    "Measure injector resistance with multimeter",
                    "Extract and professionally cleanse injectors",
                    "Replace fuel filtration element",
                    "Utilize premium fuel to prevent recurrence"
                ],
                estimatedCost: "$100-$300",
                time: "1-2 hours"
            },
            "sensor_problem": {
                title: "Sensor Diagnostic Procedure",
                severity: "High",
                steps: [
                    "Retrieve diagnostic trouble codes",
                    "Identify specific faulty sensor",
                    "Test sensor electrical characteristics",
                    "Replace defective sensor",
                    "Clear diagnostic memory and verify operation"
                ],
                estimatedCost: "$100-$500",
                time: "1-3 hours"
            },
            "coolant_leak": {
                title: "Cooling System Restoration",
                severity: "Critical",
                steps: [
                    "Conduct pressure assessment of cooling system",
                    "Identify leakage source with ultraviolet dye",
                    "Replace compromised hoses or radiator",
                    "Replenish with proper coolant mixture",
                    "Eliminate air from cooling circuit"
                ],
                estimatedCost: "$200-$800",
                time: "2-6 hours"
            },
            "radiator_fan_fault": {
                title: "Radiator Fan Rehabilitation",
                severity: "High",
                steps: [
                    "Test fan motor with direct 12V application",
                    "Inspect fan relay and protective fuse",
                    "Test coolant temperature sensor",
                    "Replace faulty fan or relay assembly",
                    "Verify proper thermal operation"
                ],
                estimatedCost: "$150-$400",
                time: "1-2 hours"
            },
            "worn_brakes": {
                title: "Brake System Overhaul",
                severity: "Critical",
                steps: [
                    "Examine brake pad thickness",
                    "Assess rotor/drum condition",
                    "Replace brake pads/shoes",
                    "Resurface or replace rotors as required",
                    "Purge brake fluid if contaminated"
                ],
                estimatedCost: "$200-$500",
                time: "2-3 hours"
            },
            "brake_wear_indicator": {
                title: "Brake System Inspection",
                severity: "Medium",
                steps: [
                    "Inspect brake pad wear indicators",
                    "Measure remaining pad material",
                    "Clean and lubricate brake components",
                    "Schedule replacement within 1,000 miles",
                    "Test braking performance"
                ],
                estimatedCost: "$0-$50",
                time: "30 minutes"
            },
            "rich_fuel_mixture": {
                title: "Fuel Mixture Calibration",
                severity: "High",
                steps: [
                    "Monitor oxygen sensor readings",
                    "Test fuel pressure regulator",
                    "Inspect for injector leakage",
                    "Clean or replace MAF sensor",
                    "Reset fuel trim parameters"
                ],
                estimatedCost: "$200-$600",
                time: "2-4 hours"
            },
            "coolant_leak_engine": {
                title: "Engine Internal Leak Remediation",
                severity: "Critical",
                steps: [
                    "Perform compression assessment",
                    "Test for hydrocarbons in coolant",
                    "Inspect head gasket integrity",
                    "Replace head gasket if compromised",
                    "Examine cylinder head for warping"
                ],
                estimatedCost: "$1,000-$2,500",
                time: "8-15 hours"
            }
        };

        // ========== INITIALIZE VINTAGE UI ==========
        function initializeUI() {
            // Display vintage rules
            const rulesList = document.getElementById('rulesList');
            rules.forEach(rule => {
                const ruleCard = document.createElement('div');
                ruleCard.className = 'vintage-rule-card';
                ruleCard.innerHTML = `
                    <div class="rule-header">
                        <span class="rule-id">${rule.id}</span>
                        <span class="rule-priority">${rule.priority} Priority</span>
                    </div>
                    <div class="rule-body">
                        IF <span class="rule-conditions">${rule.conditions.join(' AND ')}</span><br>
                        THEN <span class="rule-conclusion">${rule.conclusion}</span>
                    </div>
                    <div class="rule-desc">${rule.description}</div>
                `;
                rulesList.appendChild(ruleCard);
            });

            // Create vintage symptom checkboxes
            const factsInput = document.getElementById('factsInput');
            allFacts.forEach(fact => {
                const symptomItem = document.createElement('div');
                symptomItem.className = 'vintage-symptom';
                symptomItem.innerHTML = `
                    <input type="checkbox" id="${fact.id}" value="${fact.id}" onchange="updateSelectedFacts()">
                    <i class="${fact.icon} symptom-icon"></i>
                    <label for="${fact.id}" class="symptom-label">${fact.label}</label>
                `;
                factsInput.appendChild(symptomItem);
            });
            
            // Initialize selected facts display
            updateSelectedFacts();
        }

        // ========== UPDATE SELECTED FACTS DISPLAY ==========
        function updateSelectedFacts() {
            const selectedFactsDiv = document.getElementById('selectedFacts');
            selectedFactsDiv.innerHTML = '';
            
            const selectedFacts = [];
            allFacts.forEach(fact => {
                if (document.getElementById(fact.id).checked) {
                    selectedFacts.push(fact.id);
                    const badge = document.createElement('div');
                    badge.className = 'vintage-badge-selected';
                    badge.innerHTML = `
                        <i class="${fact.icon}"></i>
                        ${fact.label}
                    `;
                    selectedFactsDiv.appendChild(badge);
                }
            });
            
            if (selectedFacts.length === 0) {
                selectedFactsDiv.innerHTML = '<p style="color: var(--slate); text-align: center; width: 100%; font-style: italic;">No symptoms presently selected</p>';
            }
        }

        // ========== VINTAGE FORWARD CHAINING ALGORITHM ==========
        function runInference() {
            // Get selected facts
            const selectedFacts = [];
            allFacts.forEach(fact => {
                if (document.getElementById(fact.id).checked) {
                    selectedFacts.push(fact.id);
                }
            });

            if (selectedFacts.length === 0) {
                alert("⏳ Please select at least one symptom to commence diagnosis.");
                return;
            }

            // Clear and setup log
            const log = document.getElementById('inferenceLog');
            const resultsContainer = document.getElementById('resultsContainer');
            log.innerHTML = '';
            resultsContainer.innerHTML = '';

            // Start inference with vintage styling
            log.innerHTML += `
                <div class="vintage-entry" style="border-color: var(--forest);">
                    <div class="log-step"><i class="fas fa-play"></i> Inference Commenced</div>
                    <p>Initiating forward chaining protocol with ${selectedFacts.length} initial symptom(s)</p>
                </div>
            `;

            let allInferredFacts = [...selectedFacts];
            let iteration = 1;
            let anyRuleFired = true;
            const firedRules = [];

            // Initial facts display
            log.innerHTML += `
                <div class="vintage-entry">
                    <div class="log-step">Step ${++iteration}: Initial Assessment</div>
                    <p>Detected symptoms: <span class="log-fact">${selectedFacts.map(f => allFacts.find(x => x.id === f).label).join(', ')}</span></p>
                </div>
            `;

            // Forward chaining loop
            while (anyRuleFired) {
                anyRuleFired = false;
                
                rules.forEach(rule => {
                    // Check if rule hasn't been fired and all conditions are met
                    if (!firedRules.includes(rule.id) && 
                        rule.conditions.every(cond => allInferredFacts.includes(cond))) {
                        
                        // Fire the rule
                        anyRuleFired = true;
                        firedRules.push(rule.id);
                        
                        // Add conclusion to new facts if not already present
                        if (!allInferredFacts.includes(rule.conclusion)) {
                            allInferredFacts.push(rule.conclusion);
                            
                            log.innerHTML += `
                                <div class="vintage-entry">
                                    <div class="log-step">Step ${++iteration}: Rule Applied <span class="log-rule">${rule.id}</span></div>
                                    <p>Applied: <strong>IF ${rule.conditions.join(' AND ')} THEN ${rule.conclusion}</strong></p>
                                    <p class="log-desc">${rule.description}</p>
                                    <p>New fact deduced: <span class="log-fact">${rule.conclusion}</span></p>
                                </div>
                            `;
                        }
                    }
                });
            }

            // Final state
            log.innerHTML += `
                <div class="vintage-entry" style="border-color: var(--olive);">
                    <div class="log-step"><i class="fas fa-flag-checkered"></i> Inference Concluded</div>
                    <p>Processed ${firedRules.length} rules, ${allInferredFacts.length} total facts deduced</p>
                    <p>Final assessment: <span class="log-fact">${allInferredFacts.join(', ')}</span></p>
                </div>
            `;

            // Display conclusions with vintage solutions
            displayConclusions(allInferredFacts);
        }

        // ========== DISPLAY VINTAGE CONCLUSIONS ==========
        function displayConclusions(facts) {
            const resultsContainer = document.getElementById('resultsContainer');
            const diagnosticFacts = facts.filter(f => 
                Object.keys(solutions).includes(f)
            );

            if (diagnosticFacts.length === 0) {
                resultsContainer.innerHTML = `
                    <div class="vintage-diagnosis">
                        <div class="diagnosis-title"><i class="fas fa-search"></i> Diagnosis Complete</div>
                        <div class="diagnosis-result">No Specific Maladies Detected</div>
                        <div class="vintage-solution">
                            <div class="solution-title"><i class="fas fa-lightbulb"></i> Recommended Course</div>
                            <ul class="solution-steps">
                                <li><span class="step-number">1</span> Inspect fundamental maintenance elements: fuel level, battery connections, protective fuses</li>
                                <li><span class="step-number">2</span> Consider professional diagnostic examination if symptoms persist</li>
                                <li><span class="step-number">3</span> Review vehicular maintenance schedule</li>
                            </ul>
                        </div>
                    </div>
                `;
                return;
            }

            let resultsHTML = `
                <div class="vintage-diagnosis">
                    <div class="diagnosis-title"><i class="fas fa-stethoscope"></i> DIAGNOSTIC FINDINGS</div>
                    <div class="diagnosis-result">${diagnosticFacts.length} Malady(s) Identified</div>
            `;

            diagnosticFacts.forEach(problem => {
                const solution = solutions[problem];
                const severityColor = 
                    solution.severity === 'Critical' ? 'var(--walnut)' : 
                    solution.severity === 'High' ? 'var(--forest)' : 
                    'var(--sage)';
                    
                resultsHTML += `
                    <div class="vintage-solution">
                        <div class="solution-title">
                            <i class="fas fa-wrench"></i> ${solution.title}
                            <span style="margin-left: auto; background: ${severityColor}; color: var(--ivory); padding: 4px 14px; border-radius: 20px; font-size: 0.9rem; border: 1px solid var(--antique-gold);">
                                ${solution.severity} Priority
                            </span>
                        </div>
                        <div class="solution-cost">
                            <span><i class="fas fa-clock"></i> ${solution.time}</span>
                            <span><i class="fas fa-coins"></i> ${solution.estimatedCost}</span>
                        </div>
                        <ul class="solution-steps">
                `;
                
                solution.steps.forEach((step, index) => {
                    resultsHTML += `
                        <li><span class="step-number">${index + 1}</span> ${step}</li>
                    `;
                });
                
                resultsHTML += `
                        </ul>
                    </div>
                `;
            });

            resultsHTML += `</div>`;
            resultsContainer.innerHTML = resultsHTML;
        }

        // ========== VINTAGE UTILITY FUNCTIONS ==========
        function resetFacts() {
            allFacts.forEach(fact => {
                document.getElementById(fact.id).checked = false;
            });
            document.getElementById('inferenceLog').innerHTML = `
                <div class="vintage-entry" style="border-color: var(--slate);">
                    <div class="log-step"><i class="fas fa-info-circle"></i> System Primed</div>
                    <p>Select symptoms and click "Commence Diagnosis" to initiate the inference process.</p>
                </div>
            `;
            document.getElementById('resultsContainer').innerHTML = '';
            updateSelectedFacts();
        }

        function showExample() {
            resetFacts();
            // Set vintage example: Engine won't start with no cranking
            document.getElementById('engine_no_start').checked = true;
            document.getElementById('no_cranking').checked = true;
            document.getElementById('check_engine_light').checked = true;
            updateSelectedFacts();
            
            // Auto-run inference after a brief delay
            setTimeout(() => {
                runInference();
            }, 600);
        }

        // ========== INITIALIZE ON LOAD ==========
        document.addEventListener('DOMContentLoaded', initializeUI);
    </script>
</body>
</html>
